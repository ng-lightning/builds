import { ConnectionPositionPair } from '@angular/cdk/overlay';
export const POSITION_MAP = {
    'top': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'top' }, { overlayX: 'center', overlayY: 'bottom' }),
        nubbin: 'bottom'
    },
    'top-left': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'top' }, { overlayX: 'start', overlayY: 'bottom' }),
        nubbin: 'bottom-left'
    },
    'top-left-corner': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'top' }, { overlayX: 'start', overlayY: 'bottom' }),
        nubbin: 'bottom-left-corner'
    },
    'top-right': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'top' }, { overlayX: 'end', overlayY: 'bottom' }),
        nubbin: 'bottom-right'
    },
    'top-right-corner': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'top' }, { overlayX: 'end', overlayY: 'bottom' }),
        nubbin: 'bottom-right-corner'
    },
    'right': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'center' }, { overlayX: 'start', overlayY: 'center' }),
        nubbin: 'left'
    },
    'right-top': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'center' }, { overlayX: 'start', overlayY: 'top' }),
        nubbin: 'left-top'
    },
    'right-top-corner': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'center' }, { overlayX: 'start', overlayY: 'top' }),
        nubbin: 'left-top-corner'
    },
    'right-bottom': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'center' }, { overlayX: 'start', overlayY: 'bottom' }),
        nubbin: 'left-bottom'
    },
    'right-bottom-corner': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'center' }, { overlayX: 'start', overlayY: 'bottom' }),
        nubbin: 'left-bottom-corner'
    },
    'bottom': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'bottom' }, { overlayX: 'center', overlayY: 'top' }),
        nubbin: 'top'
    },
    'bottom-left': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'bottom' }, { overlayX: 'start', overlayY: 'top' }),
        nubbin: 'top-left'
    },
    'bottom-left-corner': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'bottom' }, { overlayX: 'start', overlayY: 'top' }),
        nubbin: 'top-left-corner'
    },
    'bottom-right': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'bottom' }, { overlayX: 'end', overlayY: 'top' }),
        nubbin: 'top-right'
    },
    'bottom-right-corner': {
        position: new ConnectionPositionPair({ originX: 'center', originY: 'bottom' }, { overlayX: 'end', overlayY: 'top' }),
        nubbin: 'top-right-corner'
    },
    'left': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'center' }, { overlayX: 'end', overlayY: 'center' }),
        nubbin: 'right'
    },
    'left-top': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'center' }, { overlayX: 'end', overlayY: 'top' }),
        nubbin: 'right-top'
    },
    'left-top-corner': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'center' }, { overlayX: 'end', overlayY: 'top' }),
        nubbin: 'right-top-corner'
    },
    'left-bottom': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'center' }, { overlayX: 'end', overlayY: 'bottom' }),
        nubbin: 'right-bottom'
    },
    'left-bottom-corner': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'center' }, { overlayX: 'end', overlayY: 'bottom' }),
        nubbin: 'right-bottom-corner'
    }
};
const DROPDOWN_POSITION_MAP = {
    'top-left': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'top' }, { overlayX: 'start', overlayY: 'bottom' }),
    },
    'bottom-left': {
        position: new ConnectionPositionPair({ originX: 'start', originY: 'bottom' }, { overlayX: 'start', overlayY: 'top' }),
    },
    'bottom-right': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'bottom' }, { overlayX: 'end', overlayY: 'top' }),
    },
    'top-right': {
        position: new ConnectionPositionPair({ originX: 'end', originY: 'top' }, { overlayX: 'end', overlayY: 'bottom' }),
    },
};
export const DEFAULT_DROPDOWN_POSITIONS = {
    left: [`bottom-left`, `top-left`].map((p) => DROPDOWN_POSITION_MAP[p].position),
    right: [`bottom-right`, `top-right`].map((p) => DROPDOWN_POSITION_MAP[p].position),
};
export const DEFAULT_TOOLTIP_POSITIONS = ['top', 'right', 'bottom', 'left'].map((placement) => POSITION_MAP[placement].position);
export const DEFAULT_POPOVER_POSITIONS = DEFAULT_TOOLTIP_POSITIONS;
export function getPlacementName(position, initialPlacement) {
    const keyList = ['originX', 'originY', 'overlayX', 'overlayY'];
    for (const placement in POSITION_MAP) {
        if (keyList.every(key => position.connectionPair[key] === POSITION_MAP[placement]['position'][key])) {
            if (initialPlacement && initialPlacement === `${placement}-corner`) {
                return initialPlacement;
            }
            return placement;
        }
    }
    return '';
}
export function getPlacementStyles(nubbin) {
    const [direction, align, corner] = nubbin.split('-');
    return {
        [direction]: '1rem',
        [align]: corner ? '-0.75rem' : (align ? '-1.5rem' : false), // space of nubbin from the edge
    };
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoib3ZlcmxheS1wb3NpdGlvbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL25nLWxpZ2h0bmluZy9zcmMvbGliL3V0aWwvb3ZlcmxheS1wb3NpdGlvbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQWtDLHNCQUFzQixFQUFFLE1BQU0sc0JBQXNCLENBQUM7QUFROUYsTUFBTSxDQUFDLE1BQU0sWUFBWSxHQUFpRjtJQUN4RyxLQUFLLEVBQUU7UUFDTCxRQUFRLEVBQUUsSUFBSSxzQkFBc0IsQ0FDbEMsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsRUFDckMsRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxRQUFRLEVBQUUsQ0FDM0M7UUFDRCxNQUFNLEVBQUUsUUFBUTtLQUNqQjtJQUNELFVBQVUsRUFBRTtRQUNWLFFBQVEsRUFBRSxJQUFJLHNCQUFzQixDQUNsQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxFQUNyQyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsUUFBUSxFQUFFLFFBQVEsRUFBRSxDQUMxQztRQUNELE1BQU0sRUFBRSxhQUFhO0tBQ3RCO0lBQ0QsaUJBQWlCLEVBQUU7UUFDakIsUUFBUSxFQUFFLElBQUksc0JBQXNCLENBQ2xDLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBRSxPQUFPLEVBQUUsS0FBSyxFQUFFLEVBQ3JDLEVBQUUsUUFBUSxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsUUFBUSxFQUFFLENBQzFDO1FBQ0QsTUFBTSxFQUFFLG9CQUFvQjtLQUM3QjtJQUNELFdBQVcsRUFBRTtRQUNYLFFBQVEsRUFBRSxJQUFJLHNCQUFzQixDQUNsQyxFQUFFLE9BQU8sRUFBRSxRQUFRLEVBQUUsT0FBTyxFQUFFLEtBQUssRUFBRSxFQUNyQyxFQUFFLFFBQVEsRUFBRSxLQUFLLEVBQUUs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LFVBQVUsa0JBQWtCLENBQUMsTUFBaUI7SUFDbEQsTUFBTSxDQUFDLFNBQVMsRUFBRSxLQUFLLEVBQUUsTUFBTSxDQUFDLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNyRCxPQUFPO1FBQ0wsQ0FBQyxTQUFTLENBQUMsRUFBRSxNQUFNO1FBQ25CLENBQUMsS0FBSyxDQUFDLEVBQUUsTUFBTSxDQUFDLENBQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLGdDQUFnQztLQUM3RixDQUFDO0FBQ0osQ0FBQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbm5lY3RlZE92ZXJsYXlQb3NpdGlvbkNoYW5nZSwgQ29ubmVjdGlvblBvc2l0aW9uUGFpciB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9vdmVybGF5JztcblxuZXhwb3J0IHR5cGUgUGxhY2VtZW50ID1cbiAgJ3RvcCcgfCAndG9wLWxlZnQnIHwgJ3RvcC1sZWZ0LWNvcm5lcicgfCAndG9wLXJpZ2h0JyB8ICd0b3AtcmlnaHQtY29ybmVyJyB8XG4gICdyaWdodCcgfCAncmlnaHQtdG9wJyB8ICdyaWdodC10b3AtY29ybmVyJyB8ICdyaWdodC1ib3R0b20nIHwgJ3JpZ2h0LWJvdHRvbS1jb3JuZXInIHxcbiAgJ2JvdHRvbScgfCAnYm90dG9tLWxlZnQnIHwgJ2JvdHRvbS1sZWZ0LWNvcm5lcicgfCAnYm90dG9tLXJpZ2h0JyB8ICdib3R0b20tcmlnaHQtY29ybmVyJyB8XG4gICdsZWZ0JyB8ICdsZWZ0LXRvcCcgfCAnbGVmdC10b3AtY29ybmVyJyB8ICdsZWZ0LWJvdHRvbScgfCAnbGVmdC1ib3R0b20tY29ybmVyJztcblxuZXhwb3J0IGNvbnN0IFBPU0lUSU9OX01BUDogeyBbIGtleTogc3RyaW5nIF06IHsgcG9zaXRpb246IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIsIG51YmJpbjogUGxhY2VtZW50IH0gfSA9IHtcbiAgJ3RvcCc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdjZW50ZXInLCBvcmlnaW5ZOiAndG9wJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ2NlbnRlcicsIG92ZXJsYXlZOiAnYm90dG9tJyB9XG4gICAgKSxcbiAgICBudWJiaW46ICdib3R0b20nXG4gIH0sXG4gICd0b3AtbGVmdCc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdjZW50ZXInLCBvcmlnaW5ZOiAndG9wJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ3N0YXJ0Jywgb3ZlcmxheVk6ICdib3R0b20nIH1cbiAgICApLFxuICAgIG51YmJpbjogJ2JvdHRvbS1sZWZ0J1xuICB9LFxuICAndG9wLWxlZnQtY29ybmVyJzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ2NlbnRlcicsIG9yaWdpblk6ICd0b3AnIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnc3RhcnQnLCBvdmVybGF5WTogJ2JvdHRvbScgfVxuICAgICksXG4gICAgbnViYmluOiAnYm90dG9tLWxlZnQtY29ybmVyJ1xuICB9LFxuICAndG9wLXJpZ2h0Jzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ2NlbnRlcicsIG9yaWdpblk6ICd0b3AnIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnZW5kJywgb3ZlcmxheVk6ICdib3R0b20nIH1cbiAgICApLFxuICAgIG51YmJpbjogJ2JvdHRvbS1yaWdodCdcbiAgfSxcbiAgJ3RvcC1yaWdodC1jb3JuZXInOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnY2VudGVyJywgb3JpZ2luWTogJ3RvcCcgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdlbmQnLCBvdmVybGF5WTogJ2JvdHRvbScgfVxuICAgICksXG4gICAgbnViYmluOiAnYm90dG9tLXJpZ2h0LWNvcm5lcidcbiAgfSxcbiAgJ3JpZ2h0Jzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ2VuZCcsIG9yaWdpblk6ICdjZW50ZXInIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnc3RhcnQnLCBvdmVybGF5WTogJ2NlbnRlcicgfVxuICAgICksXG4gICAgbnViYmluOiAnbGVmdCdcbiAgfSxcbiAgJ3JpZ2h0LXRvcCc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdlbmQnLCBvcmlnaW5ZOiAnY2VudGVyJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ3N0YXJ0Jywgb3ZlcmxheVk6ICd0b3AnIH1cbiAgICApLFxuICAgIG51YmJpbjogJ2xlZnQtdG9wJ1xuICB9LFxuICAncmlnaHQtdG9wLWNvcm5lcic6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdlbmQnLCBvcmlnaW5ZOiAnY2VudGVyJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ3N0YXJ0Jywgb3ZlcmxheVk6ICd0b3AnIH1cbiAgICApLFxuICAgIG51YmJpbjogJ2xlZnQtdG9wLWNvcm5lcidcbiAgfSxcbiAgJ3JpZ2h0LWJvdHRvbSc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdlbmQnLCBvcmlnaW5ZOiAnY2VudGVyJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ3N0YXJ0Jywgb3ZlcmxheVk6ICdib3R0b20nIH1cbiAgICApLFxuICAgIG51YmJpbjogJ2xlZnQtYm90dG9tJ1xuICB9LFxuICAncmlnaHQtYm90dG9tLWNvcm5lcic6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdlbmQnLCBvcmlnaW5ZOiAnY2VudGVyJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ3N0YXJ0Jywgb3ZlcmxheVk6ICdib3R0b20nIH1cbiAgICApLFxuICAgIG51YmJpbjogJ2xlZnQtYm90dG9tLWNvcm5lcidcbiAgfSxcbiAgJ2JvdHRvbSc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdjZW50ZXInLCBvcmlnaW5ZOiAnYm90dG9tJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ2NlbnRlcicsIG92ZXJsYXlZOiAndG9wJyB9XG4gICAgKSxcbiAgICBudWJiaW46ICd0b3AnXG4gIH0sXG4gICdib3R0b20tbGVmdCc6IHtcbiAgICBwb3NpdGlvbjogbmV3IENvbm5lY3Rpb25Qb3NpdGlvblBhaXIoXG4gICAgICB7IG9yaWdpblg6ICdjZW50ZXInLCBvcmlnaW5ZOiAnYm90dG9tJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ3N0YXJ0Jywgb3ZlcmxheVk6ICd0b3AnIH1cbiAgICApLFxuICAgIG51YmJpbjogJ3RvcC1sZWZ0J1xuICB9LFxuICAnYm90dG9tLWxlZnQtY29ybmVyJzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ2NlbnRlcicsIG9yaWdpblk6ICdib3R0b20nIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnc3RhcnQnLCBvdmVybGF5WTogJ3RvcCcgfVxuICAgICksXG4gICAgbnViYmluOiAndG9wLWxlZnQtY29ybmVyJ1xuICB9LFxuICAnYm90dG9tLXJpZ2h0Jzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ2NlbnRlcicsIG9yaWdpblk6ICdib3R0b20nIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnZW5kJywgb3ZlcmxheVk6ICd0b3AnIH1cbiAgICApLFxuICAgIG51YmJpbjogJ3RvcC1yaWdodCdcbiAgfSxcbiAgJ2JvdHRvbS1yaWdodC1jb3JuZXInOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnY2VudGVyJywgb3JpZ2luWTogJ2JvdHRvbScgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdlbmQnLCBvdmVybGF5WTogJ3RvcCcgfVxuICAgICksXG4gICAgbnViYmluOiAndG9wLXJpZ2h0LWNvcm5lcidcbiAgfSxcbiAgJ2xlZnQnOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnc3RhcnQnLCBvcmlnaW5ZOiAnY2VudGVyJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ2VuZCcsIG92ZXJsYXlZOiAnY2VudGVyJyB9XG4gICAgKSxcbiAgICBudWJiaW46ICdyaWdodCdcbiAgfSxcbiAgJ2xlZnQtdG9wJzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ3N0YXJ0Jywgb3JpZ2luWTogJ2NlbnRlcicgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdlbmQnLCBvdmVybGF5WTogJ3RvcCcgfVxuICAgICksXG4gICAgbnViYmluOiAncmlnaHQtdG9wJ1xuICB9LFxuICAnbGVmdC10b3AtY29ybmVyJzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ3N0YXJ0Jywgb3JpZ2luWTogJ2NlbnRlcicgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdlbmQnLCBvdmVybGF5WTogJ3RvcCcgfVxuICAgICksXG4gICAgbnViYmluOiAncmlnaHQtdG9wLWNvcm5lcidcbiAgfSxcbiAgJ2xlZnQtYm90dG9tJzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ3N0YXJ0Jywgb3JpZ2luWTogJ2NlbnRlcicgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdlbmQnLCBvdmVybGF5WTogJ2JvdHRvbScgfVxuICAgICksXG4gICAgbnViYmluOiAncmlnaHQtYm90dG9tJ1xuICB9LFxuICAnbGVmdC1ib3R0b20tY29ybmVyJzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ3N0YXJ0Jywgb3JpZ2luWTogJ2NlbnRlcicgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdlbmQnLCBvdmVybGF5WTogJ2JvdHRvbScgfVxuICAgICksXG4gICAgbnViYmluOiAncmlnaHQtYm90dG9tLWNvcm5lcidcbiAgfVxufTtcblxuY29uc3QgRFJPUERPV05fUE9TSVRJT05fTUFQID0ge1xuICAndG9wLWxlZnQnOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnc3RhcnQnLCBvcmlnaW5ZOiAndG9wJyB9LFxuICAgICAgeyBvdmVybGF5WDogJ3N0YXJ0Jywgb3ZlcmxheVk6ICdib3R0b20nIH0sXG4gICAgKSxcbiAgfSxcbiAgJ2JvdHRvbS1sZWZ0Jzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ3N0YXJ0Jywgb3JpZ2luWTogJ2JvdHRvbScgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdzdGFydCcsIG92ZXJsYXlZOiAndG9wJyB9LFxuICAgICksXG4gIH0sXG4gICdib3R0b20tcmlnaHQnOiB7XG4gICAgcG9zaXRpb246IG5ldyBDb25uZWN0aW9uUG9zaXRpb25QYWlyKFxuICAgICAgeyBvcmlnaW5YOiAnZW5kJywgb3JpZ2luWTogJ2JvdHRvbScgfSxcbiAgICAgIHsgb3ZlcmxheVg6ICdlbmQnLCBvdmVybGF5WTogJ3RvcCcgfSxcbiAgICApLFxuICB9LFxuICAndG9wLXJpZ2h0Jzoge1xuICAgIHBvc2l0aW9uOiBuZXcgQ29ubmVjdGlvblBvc2l0aW9uUGFpcihcbiAgICAgIHsgb3JpZ2luWDogJ2VuZCcsIG9yaWdpblk6ICd0b3AnIH0sXG4gICAgICB7IG92ZXJsYXlYOiAnZW5kJywgb3ZlcmxheVk6ICdib3R0b20nIH0sXG4gICAgKSxcbiAgfSxcbn07XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX0RST1BET1dOX1BPU0lUSU9OUyA9IHtcbiAgbGVmdDogW2Bib3R0b20tbGVmdGAsIGB0b3AtbGVmdGBdLm1hcCgocCkgPT4gRFJPUERPV05fUE9TSVRJT05fTUFQW3BdLnBvc2l0aW9uKSxcbiAgcmlnaHQ6IFtgYm90dG9tLXJpZ2h0YCwgYHRvcC1yaWdodGBdLm1hcCgocCkgPT4gRFJPUERPV05fUE9TSVRJT05fTUFQW3BdLnBvc2l0aW9uKSxcbn07XG5cbmV4cG9ydCBjb25zdCBERUZBVUxUX1RPT0xUSVBfUE9TSVRJT05TID0gWyd0b3AnLCAncmlnaHQnLCAnYm90dG9tJywgJ2xlZnQnXS5tYXAoKHBsYWNlbWVudDogUGxhY2VtZW50KSA9PiBQT1NJVElPTl9NQVBbcGxhY2VtZW50XS5wb3NpdGlvbik7XG5leHBvcnQgY29uc3QgREVGQVVMVF9QT1BPVkVSX1BPU0lUSU9OUyA9IERFRkFVTFRfVE9PTFRJUF9QT1NJVElPTlM7XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQbGFjZW1lbnROYW1lKHBvc2l0aW9uOiBDb25uZWN0ZWRPdmVybGF5UG9zaXRpb25DaGFuZ2UsIGluaXRpYWxQbGFjZW1lbnQ6IFBsYWNlbWVudCk6IHN0cmluZyB7XG4gIGNvbnN0IGtleUxpc3QgPSBbICdvcmlnaW5YJywgJ29yaWdpblknLCAnb3ZlcmxheVgnLCAnb3ZlcmxheVknIF07XG4gIGZvciAoY29uc3QgcGxhY2VtZW50IGluIFBPU0lUSU9OX01BUCkge1xuICAgIGlmIChrZXlMaXN0LmV2ZXJ5KGtleSA9PiBwb3NpdGlvbi5jb25uZWN0aW9uUGFpclsga2V5IF0gPT09IFBPU0lUSU9OX01BUFsgcGxhY2VtZW50IF1bICdwb3NpdGlvbicgXVsga2V5IF0pKSB7XG4gICAgICBpZiAoaW5pdGlhbFBsYWNlbWVudCAmJiBpbml0aWFsUGxhY2VtZW50ID09PSBgJHtwbGFjZW1lbnR9LWNvcm5lcmApIHtcbiAgICAgICAgcmV0dXJuIGluaXRpYWxQbGFjZW1lbnQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcGxhY2VtZW50O1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQbGFjZW1lbnRTdHlsZXMobnViYmluOiBQbGFjZW1lbnQpIHtcbiAgY29uc3QgW2RpcmVjdGlvbiwgYWxpZ24sIGNvcm5lcl0gPSBudWJiaW4uc3BsaXQoJy0nKTtcbiAgcmV0dXJuIHtcbiAgICBbZGlyZWN0aW9uXTogJzFyZW0nLFxuICAgIFthbGlnbl06IGNvcm5lciA/ICctMC43NXJlbScgOiAoYWxpZ24gPyAnLTEuNXJlbScgOiBmYWxzZSksIC8vIHNwYWNlIG9mIG51YmJpbiBmcm9tIHRoZSBlZGdlXG4gIH07XG59XG4iXX0=